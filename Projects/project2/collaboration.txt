Code based from grayscale.java and sepia.java